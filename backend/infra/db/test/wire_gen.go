// Code generated by Wire. DO NOT EDIT.

//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject

package test

import (
	"context"
	"github.com/aereal/nikki/backend/infra/db"
	"github.com/aereal/nikki/backend/infra/db/exec"
	"github.com/aereal/nikki/backend/o11y"
)

// Injectors from wire.go:

func NewTestCategoryRepository(contextContext context.Context) (*TestCategoryRepository, error) {
	tracerProvider := o11y.ProvideNoopTracerProvider()
	memoryEndpoint := db.ProvideMemoryEndpoint()
	sqlDB, err := db.ProvideDB(tracerProvider, memoryEndpoint)
	if err != nil {
		return nil, err
	}
	testProvisionedDB, err := provideProvisionedDB(contextContext, sqlDB)
	if err != nil {
		return nil, err
	}
	runner := exec.ProvideRunner(sqlDB)
	idGenerator := db.ProvideCategoryIDGenerator()
	categoryRepository := db.ProvideCategoryRepository(tracerProvider, runner, idGenerator)
	testCategoryRepository := provideTestCategoryRepository(testProvisionedDB, categoryRepository)
	return testCategoryRepository, nil
}

func NewTestArticleRepository(contextContext context.Context) (*TestArticleRepository, error) {
	tracerProvider := o11y.ProvideNoopTracerProvider()
	memoryEndpoint := db.ProvideMemoryEndpoint()
	sqlDB, err := db.ProvideDB(tracerProvider, memoryEndpoint)
	if err != nil {
		return nil, err
	}
	testProvisionedDB, err := provideProvisionedDB(contextContext, sqlDB)
	if err != nil {
		return nil, err
	}
	runner := exec.ProvideRunner(sqlDB)
	articleRepository := db.ProvideArticleRepository(tracerProvider, runner)
	idGenerator := db.ProvideArticleIDGenerator()
	dbIDGenerator := db.ProvideArticleRevisionIDGenerator()
	testArticleRepository := provideTestArticleRepository(testProvisionedDB, articleRepository, idGenerator, dbIDGenerator)
	return testArticleRepository, nil
}
